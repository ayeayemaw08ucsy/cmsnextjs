{"ast":null,"code":"import fetch from 'isomorphic-unfetch';\nconst PORT = process.env.PORT || 8080;\nconst ROOT_URL = process.env.ROOT_URL || `http://localhost:${PORT}`;\nexport default async function sendRequest(api_base_path, options = {}) {\n  const headers = Object.assign({}, options.headers || {}, {\n    'Content-type': 'application/json; charset=UTF-8'\n  }); // Object.assign({ method: 'POST', credentials: 'include' }, { headers }),\n\n  const response = await fetch(`${ROOT_URL}${api_base_path}`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  const data = await response.json();\n\n  if (data.error) {\n    throw new Error(data.error);\n  }\n\n  return data;\n}","map":{"version":3,"sources":["/Users/ayeayemaw/Downloads/WK/CMSBoilerplate/lib/api/sendRequest.js"],"names":["fetch","PORT","process","env","ROOT_URL","sendRequest","api_base_path","options","headers","Object","assign","response","method","data","json","error","Error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,oBAAlB;AAEA,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;AACA,MAAMG,QAAQ,GAAGF,OAAO,CAACC,GAAR,CAAYC,QAAZ,IAAyB,oBAAmBH,IAAK,EAAlE;AAEA,eAAe,eAAeI,WAAf,CAA2BC,aAA3B,EAAyCC,OAAO,GAAG,EAAnD,EAAuD;AAElE,QAAMC,OAAO,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBH,OAAO,CAACC,OAAR,IAAmB,EAArC,EAAwC;AACpD,oBAAe;AADqC,GAAxC,CAAhB,CAFkE,CAMlE;;AACA,QAAMG,QAAQ,GAAG,MAAMX,KAAK,CACvB,GAAEI,QAAS,GAAEE,aAAc,EADJ,EAEtB;AACIM,IAAAA,MAAM,EAAE,MADZ;AAEIJ,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX;AAFb,GAFsB,CAA5B;AASA,QAAMK,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;;AAEA,MAAGD,IAAI,CAACE,KAAR,EAAe;AACX,UAAM,IAAIC,KAAJ,CAAUH,IAAI,CAACE,KAAf,CAAN;AACH;;AAED,SAAOF,IAAP;AACH","sourcesContent":["import fetch from 'isomorphic-unfetch';\n\nconst PORT = process.env.PORT || 8080;\nconst ROOT_URL = process.env.ROOT_URL || `http://localhost:${PORT}`;\n\nexport default async function sendRequest(api_base_path,options = {}) {\n\n    const headers = Object.assign({}, options.headers || {},{\n        'Content-type':'application/json; charset=UTF-8',\n    });\n\n    // Object.assign({ method: 'POST', credentials: 'include' }, { headers }),\n    const response = await fetch(\n        `${ROOT_URL}${api_base_path}`,\n          {\n              method: 'POST',\n              headers: {\n                  'Content-Type': 'application/json'}\n        },\n    );\n\n    const data = await response.json();\n\n    if(data.error) {\n        throw new Error(data.error);\n    }\n\n    return data;\n}"]},"metadata":{},"sourceType":"module"}